**Домашнє завдання №2**

Вітаємо!

Переходимо до виконання наступного домашнього завдання. Наші цілі на сьогодні виглядають так:

- розробимо додаткові функції для консольного бота-помічника, розпочатого в попередній домашній роботі, згідно з вимогами завдання
- продовжимо працювати над нашим віртуальним асистентом з командним рядком (CLI), розширюючи його внутрішню логіку

**Загальнi критерії приймання**

- Створено репозиторій goitneo-python-hw-2-назвагрупи
  - Домашня робота містить посилання на репозиторiй на GitHub та прикрiплений файл репозиторію у форматi zip.
  - Завдання виконані у точній відповідності до технiчного опису (рекомендацiї для виконання та критерії оцінювання).
  - В консолі відсутні помилки і попередження під час запуску бота.
- Імена змінних і функцій - зрозумілі та описові.
  - Код відформатований та відповідає стандарту [PEP8](https://peps.python.org/pep-0008/).

**Формат оцінювання**

- Оцінка від 0 до 100

**Формат здачі**

- Посилання на репозиторій на Github.
  - Прикрiплений файл репозиторію у форматi zip.

**ВАЖЛИВО**

Перегляньте [**Iнструкцію щодо завантаження робочого файлу з репозиторію на Github**](https://drive.google.com/file/d/1UBw9IkvLmk4hO73ji1ScNkj3_H_vKNvT/view?usp=sharing)

**Технiчний опис завдань**

**Завдання 1**

Доробіть консольного бота помічника та додайте обробку помилок.

Всі помилки введення користувача повинні оброблятися за допомогою декоратора input\_error. Цей декоратор відповідає за повернення користувачеві повідомлень типу "Enter user name", "Give me name and phone please" тощо. Декоратор input\_error повинен обробляти винятки, що виникають у функціях - handler (KeyError, ValueError, IndexError) та повертати відповідну відповідь користувачеві.

Додамо декоратор input\_error для обробки помилки ValueError

def input\_error(func):![](Aspose.Words.1ba6597e-3c5b-4c3c-9e92-5f8b517c4be2.001.png)

`    `def inner(\*args, \*\*kwargs):

`        `try:

`            `return func(\*args, \*\*kwargs)

`        `except ValueError:

`            `return "Give me name and phone please."     return inner

Та обгорнемо декоратором функцію add\_contact нашого бота, щоб ми почали обробляти помилку **ValueError.**

@input\_error![](Aspose.Words.1ba6597e-3c5b-4c3c-9e92-5f8b517c4be2.002.png)

def add\_contact(args, contacts):     name, phone = args

`    `contacts[name] = phone

`    `return "Contact added."

Вам треба додати обробники до інших команд, та додати в декоратор обробку винятків інших типів. Бажаємо успіху при виконані домашнього завдання.

**Завдання 2**

У цій домашній роботі ми продовжимо розвивати нашого віртуального асистента з CLI інтерфейсом.

Наш асистент вже вміє взаємодіяти з користувачем за допомогою командного рядка, отримуючи команди та аргументи, та виконуючи потрібні дії. У цьому завданні потрібно буде попрацювати над внутрішньою логікою асистента, над тим, як зберігаються дані, які саме дані і що з ними можна зробити. Саму логіку ми додамо в бота в наступному домашньому завданні.

Застосуємо для цих цілей об'єктно-орієнтоване програмування. Спершу виділимо декілька сутностей (моделей), з якими працюватимемо.

У **користувача** буде адресна книга або **книга контактів**. Ця **книга контактів** містить **записи**. Кожен **запис** містить деякий набір **полів**.

Таким чином ми описали сутності (класи), які необхідно реалізувати. Далі розглянемо вимоги до цих класів та встановимо їх взаємозв'язок, правила, за якими вони будуть взаємодіяти.

Користувач взаємодіє з **книгою контактів**, додаючи, видаляючи та редагуючи **записи**. Також користувач повинен мати можливість шукати в **книзі контактів** **записи** за одним або кількома критеріями (полями).

Про **поля** також можна сказати, що вони можуть бути обов'язковими (ім'я) та необов'язковими (телефон або email наприклад). Також **записи** можуть містити декілька **полів** одного типу (декілька телефонів наприклад). Користувач повинен мати можливість додавати/видаляти/редагувати **поля** у будь-якому записі.

**Технічне завдання**

Розробіть систему для управління адресною книгою. **Сутності:**

- **Field:** Базовий клас для полів запису.
  - **Name:** Клас для зберігання імені контакту. Обов'язкове поле.
- **Phone:** Клас для зберігання номера телефону. Має валідацію формату (10 цифр).
  - **Record:** Клас для зберігання інформації про контакт, включаючи ім'я та список телефонів.
- **AddressBook:** Клас для зберігання та управління записами.

**Функціональність:**

1. **AddressBook:**
- Додавання записів.
  - Пошук записів за іменем.
- Видалення записів за іменем.
2. **Record:**
- Додавання телефонів.
  - Видалення телефонів.
- Редагування телефонів.
  - Пошук телефону.

**Рекомендації для виконання**

В якості старту ви можете взяти наступний базовий код для реалізації цього домашнього завдання:

from collections import UserDict![](Aspose.Words.1ba6597e-3c5b-4c3c-9e92-5f8b517c4be2.003.png)

class Field:

`    `def \_\_init\_\_(self, value):

`        `self.value = value

`    `def \_\_str\_\_(self):

`        `return str(self.value)

class Name(Field):

- реалізація класу

class Phone(Field):

- реалізація класу

class Record:

`    `def \_\_init\_\_(self, name):

`        `self.name = Name(name)

`        `self.phones = []

- реалізація класу

`    `def \_\_str\_\_(self):

`        `return f"Contact name: {self.name.value}, phones: {'; '.join(p.value for p in self.phones)}" class AddressBook(UserDict):

- реалізація класу

Після реалізації ваш код має виконуватися наступним чином:

- Створення нової адресної книги![](Aspose.Words.1ba6597e-3c5b-4c3c-9e92-5f8b517c4be2.004.png)

`    `book = AddressBook()

- Створення запису для John

`    `john\_record = Record("John")

`    `john\_record.add\_phone("1234567890")

`    `john\_record.add\_phone("5555555555")

- Додавання запису John до адресної книги

`    `book.add\_record(john\_record)

- Створення та додавання нового запису для Jane

`    `jane\_record = Record("Jane")

`    `jane\_record.add\_phone("9876543210")

`    `book.add\_record(jane\_record)

- Виведення всіх записів у книзі

`    `for name, record in book.data.items():

`        `print(record)

- Знаходження та редагування телефону для John

`    `john = book.find("John")

`    `john.edit\_phone("1234567890", "1112223333")

`    `print(john)  # Виведення: Contact name: John, phones: 1112223333; 5555555555

- Пошук конкретного телефону у записі John

`    `found\_phone = john.find\_phone("5555555555")

`    `print(f"{john.name}: {found\_phone}")  # Виведення: 5555555555

- Видалення запису Jane![](Aspose.Words.1ba6597e-3c5b-4c3c-9e92-5f8b517c4be2.005.png)

`    `book.delete("Jane")

В наступному третьому домашньому завданні ми додамо цю логіку до нашого бота.

**Критерії оцінювання**

1. **Клас AddressBook:**
- Реалізовано метод **add\_record**, який додає запис до **self.data**.
  - Реалізовано метод **find**, який знаходить запис за ім'ям.
- Реалізовано метод **delete**, який видаляє запис за ім'ям.
2. **Клас Record:**
- Реалізовано зберігання об'єкта Name в окремому атрибуті.
  - Реалізовано зберігання списку об'єктів Phone в окремому атрибуті.
- Реалізовано методи для додавання - add\_phone/видалення - remove\_phone/редагування - edit\_phone/пошуку об'єктів Phone - find\_phone.
3. **Клас Phone:**
- Реалізовано валідацію номера телефону (має бути 10 цифр).
